<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>Test case template</title>
		<meta name="viewport" content="width=device-width initial-scale=1.0" />
		<script src="../kernelTest.js"></script>
		<script src="../zepto.min.js"></script>
		<link rel="stylesheet" type="text/css" href="../style.css">

		<style type="text/css">
		ol li{
			margin:5px;
		}
		</style>

		<script>
		    function getSelectInfo(myselect, mydiv) {
		        var s = document.getElementById(myselect);
		        var selectLength = s.length;
		        var optionCollectionLength = s.options.length;
		        var selectedInd = s.selectedIndex;
		        var opt = s.options[selectedInd];
		        var optText = "";
		        
		        if (opt) {
		            optText = opt.innerHTML;
		        }
		        
		        document.getElementById(mydiv).innerHTML = "Select length: " + selectLength + "<br>Option collection length: " + optionCollectionLength + "<br>Selected index: " + selectedInd + "<br>Selected option: " + optText;
		    }
		    
		    function getAllInfo(x) {
		        for (i = 1; i < x; i++) {
		            var s = "s" + i;
		            var d = "d" + i;
		            
		            getSelectInfo(s, d);
		        }
		    }
		</script>


	</head>

	<body onload="getAllInfo(12)">
		<div>
			<!-- Here is the Menu -->
			<div class="par">≡</div>
			<div class="todolist">
				<h1>测试内容</h1>
				<hr>
				<p><span>请勾选测试通过的选项：</span></p>
				<ol>
					<li>
						<label for="task1">select hr</label>
						<input  class="checkbox" type="checkbox" id="task1" data-pass="select hr">
					</li>
				</ol>
				<p><span>请综合评价测试是否通过或跳过：</span></p>
				<div style="padding-left: 20px;">
					<div>
						<textarea class="ktest-comments" placeholder="在此处填写评语，选填"></textarea>
					</div>
					<a id="ktest-pass" class="ktest-btn result">pass</a>
					<a id="ktest-fail" class="ktest-btn result">fail</a>
					<a id="ktest-next" class="ktest-btn">next</a>
				</div>
			</div><!-- Menu end -->
			
			<!-- place your test case HTML content here -->
			<h1>Select hr Test</h1>
			<p><b>BUG ID:</b> <a href="rdar://problem/4229189">4229189</a> add a way to get a separator into a select element</p>
			<hr>

			<div class='case'>
				<div class='describe'>
					<p style="background-color:skyblue; padding:3px;"><span>Decription:</span>These tests make sure that adding an hr element in a select works properly.【1】</p>
					<p><b>STEPS TO TEST:</b>
						Please describe the steps required to test this bug here.
					</p>
					<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b>This should be a disabled popup menu, since the hr is not selectable. 
				</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b> </p>
				<select id = "s1">
				<hr>
				</select>
				<div id="d1"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				You should see a popup menu with the following items: separator, option, separator
				</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				</p>
				<select id = "s2">
				<hr>
				<option>opt 1</option>
				<hr>
				</select>
				<div id="d2"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				You should see a popup menu with the following items: option, separator, option
				</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				</p>
				<select id = "s3">
				<option>opt 1</option>
				<hr>
				<option>opt 2</option>
				</select>
				<div id="d3"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				You should see a popup menu with the following items: option, four separators, two options, separator, option.
				</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				</p>
				<select id = "s4">
				<option>opt 1</option>
				<hr>
				<hr>
				<hr>
				<hr>
				<option>opt 2</option>
				<option>opt 3</option>
				<hr>
				<option>opt 4</option>
				</select>
				<div id="d4"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				You should see a popup menu with the following items: group label, option, separator (incl. in group).
				</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				</p>
				<select id = "s5">
				<optgroup label="Group 1">
				<option>opt 1</option>
				<hr>
				</optgroup>
				</select>
				<div id="d5"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				You should see a popup menu with the following items: separator, group label, option.
				</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				</p>
				<select id = "s6">
				<hr>
				<optgroup label="Group 1">
				<option>opt 1</option>
				</optgroup>
				</select>
				<div id="d6"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				You should see a popup menu with the following items: group label, option, separator, option, separator, option, two separators, (end of group), one option.
				</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				</p>
				<select id = "s7">
				<optgroup label="Group 1">
				<option>opt 1</option>
				<hr>
				<option>opt 2</option>
				<hr>
				<option>opt 3</option>
				<hr>
				<hr>
				</optgroup>
				<option>opt 4</option>
				</select>
				<div id="d7"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				You should see a popup menu with the following items: group label, one option two separators, (end of group), separator, group label, separator, two options, separator, (end of group), option.
				</p>

				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				</p>
				<select id = "s8">
				<optgroup label="Group 1">
				<option>opt 1</option>
				<hr>
				<hr>
				</optgroup>
				<hr>
				<optgroup label="Group 2">
				<hr>
				<option>opt 2</option>
				<option>opt 3</option>
				<hr>
				</optgroup>
				<option>opt 4</option>
				</select>
				<div id="d8"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				A disabled popup menu - since the optgroup and the hr are not selectable.
				</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				</p>
				<select id = "s9">
				<optgroup label="Group 1">
				<hr>
				</optgroup>
				</select>
				<div id="d9"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				You should see a list box with the following items: 4 options.
				</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				You should not see any separators in the list box.</p>
				<br><select id = "s10" multiple>
				<option value="test">opt 1</option>
				<hr>
				<hr>
				<hr>
				<hr>
				<option>opt 2</option>
				<option>opt 3</option>
				<hr>
				<option>opt 4</option>
				</select>
				<div id="d10"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				You should see a list box with the following items: one option, group label, 3 options.
				</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				You should not see any separators in the list box.</p>
				<select id = "s11" multiple>
				<option value="test">opt 1</option>
				<hr>
				<hr>
				<optgroup label="Group 1">
				<hr>
				<hr>
				<option>opt 2</option>
				<option>opt 3</option>
				<hr>
				<option>opt 4</option>
				</optgroup>
				</select>
				<div id="d11"></div>

				<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
				For each of these list boxes, when you change the selection in JavaScript to index 1, the second option should get highlighted</p>
				<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
				"opt 2" does not get highlighted after clicking the button.</p>

				<select id="s12" multiple>
				<option id="o3">opt 1</option>
				<hr>
				<option id="o4">opt 2</option>
				</select>
				<input type="button" value="Change selection to 'opt 2'" onclick="document.getElementById('s12').selectedIndex = 1;"></input>

				<br><select id="s13" multiple>
				<option id="o5">opt 1</option>
				<hr>
				<optgroup label="group">
				<option id="o6">opt 2</option>
				</optgroup>
				</select>
				<input type="button" value="Change selection to 'opt 2'" onclick="document.getElementById('s13').selectedIndex = 1;"></input>


			</div><!-- .case end -->
			<br><br><hr>

			
		<script>
			// place your test case JS code here
			//do something...


			/********************/ 
			kTest.init({
				onResult : function(status, comments){
					if (status === "passed" || status === "failed"){
						$(".result").hide();
					}

					$(".ktest-comments").val(comments);
				}
			});

			$(".ktest-btn").bind("click", function(){
				var str = '';
				$('.checkbox').each(function(){
					if($(this).attr("checked") == true)
						str+='<span class="passed">'+$(this).data("pass")+"</span>;";
					else
						str+='<span class="failed">'+$(this).data("pass")+"</span>;"
				})
				var comments = str + $(".ktest-comments").val();
				var id =this.id;
				switch(id){
					case "ktest-pass": kTest.pass(comments); break;
					case "ktest-fail": kTest.fail(comments); break;
					case "ktest-next": kTest.next(comments); break;
				}
			});
			$('.par').on("click",function(){
				if($('.par').html() =='≡')
					$('.par').html('×');
				else
					$('.par').html('≡');
				$('.todolist').toggle();
				$('.checkbox').each(function(index){
					console.log(this.data('note'));
				});
			});
			$('.todolist').toggle();
		</script>
	</body>
</html>
