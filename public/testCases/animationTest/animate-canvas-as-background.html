<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>Animation Test</title>
		<!-- <meta name="viewport" content="width=device-width initial-scale=1.0" /> -->
		<link rel="stylesheet" type="text/css" href="../../css/base.css">

		<style type="text/css">
		ol li{
			margin:5px;
		}
		</style>

		<!-- [1] -->
	    <style>
		#container {
		    width: 200px;
		    height: 200px;
		    background-image: -webkit-canvas(sourceCanvas);
		    background-size: 100%;
		    display: inline-block;
		}
		</style>

	</head>

	<body>
		<div id="desc" style="display:none">
			<div id="pass-desc">
				下方显示两个绿色的矩形。
			</div>
			<div id="fail-desc">
				下方显示两个红色的矩形.
			</div>
		</div>
		<!-- <table class="desc-table" cellpadding="0" cellspacing="0">
			<tr>
				<td class="desc-header"><div class="title">Description</div><span class="fix">Descriptiondede</span></td>
				<td class="desc-body body-base">Animated-canvas-as-background</td>
			</tr>
			<tr>
				<td class="pass-header"><div class="title">Pass</div></td>
				<td class="pass-body body-base">下方显示两个绿色的矩形。</td>
			</tr>
			<tr>
				<td class="fail-header"><div class="title">Fail</div></td>
				<td class="fail-body body-base">下方显示两个红色的矩形.</td>
			</tr>
		</table> -->
				
		<div>
	        <div style="display: inline-block">
	            <div id="container"></div>
	        </div>
	        <div id="canvas-container" style="display: inline-block"></div>
    	</div>


		<script>/* [1] */
	        var ctx = document.getCSSCanvasContext('2d', 'sourceCanvas', 200, 200);
	        var canvas = ctx.canvas;

	        function asyncDraw2() {
	            ctx.fillStyle = "green";
	            ctx.fillRect(0, 0, 300, 300);
	        }

	        function asyncDraw1() {
	            ctx.fillStyle = "red";
	            ctx.fillRect(0, 0, 300, 300);
	            window.webkitRequestAnimationFrame(asyncDraw2);
	        }

	        window.webkitRequestAnimationFrame(asyncDraw1);

	        document.querySelector('#canvas-container').appendChild(canvas);
    	</script>

	</body>
</html>
